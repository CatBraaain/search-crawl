pre-commit:
  parallel: true
  jobs:
    - name: uv
      glob: "*{uv.lock,pyproject.toml,uv.toml}"
      run: uv sync --locked --no-progress
    - name: ruff
      glob: "*.{py,pyi}"
      run: |
        uv run ruff format --check {staged_files}
        uv run ruff check {staged_files}
    - name: pyright
      glob: "*.{py,pyi}"
      run: uv run pyright {staged_files}
